[tools]
go = "1.25.5"
golangci-lint = "2.8.0"
goreleaser = "latest"

[tasks.format]
description = "Format Go code"
run = "go fmt ./..."

[tasks.lint]
description = "Lint Go code"
run = "golangci-lint run"
env = { GOFLAGS = "-buildvcs=false" }

[tasks.test]
description = "Run tests"
run = "go test -v ./..."

[tasks.build]
description = "Build the binary"
run = "go build -o privatebox cmd/privatebox/main.go"

[tasks.release]
description = "Run GoReleaser"
run = "goreleaser release --clean"

[tasks.ci]
description = "Run CI pipeline"
depends = ["format", "lint", "test", "build"]
